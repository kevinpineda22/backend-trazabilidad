/* trazabilidad_contabilidad/GestionTokens.css */
.tokens-container {
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
}

.tokens-header {
  margin-bottom: 2rem;
  border-bottom: 1px solid #e9ecef;
  padding-bottom: 1rem;
}

.tokens-header h1 {
  font-size: 2rem;
  color: #1a1a1a;
  margin-bottom: 0.5rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.tokens-header-icon { color: #007bff; }
.tokens-descripcion { color: #666; font-size: 1rem; max-width: 800px; }

/* Mensajes */
.tokens-mensaje {
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  /* Sin animaciones */
}
.tokens-mensaje-exito { background-color: #d1e7dd; color: #0f5132; border: 1px solid #badbcc; }
.tokens-mensaje-error { background-color: #f8d7da; color: #842029; border: 1px solid #f5c2c7; }

/* Panel de Acciones */
.tokens-acciones-panel {
  background: white;
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  margin-bottom: 2rem;
  border: 1px solid #e9ecef;
}

.tokens-acciones-panel h3 { margin-top: 0; margin-bottom: 1rem; font-size: 1.1rem; color: #495057; }
.tokens-botones-generar { display: flex; gap: 1rem; flex-wrap: wrap; }

.tokens-btn-generar {
  padding: 0.875rem 1.5rem;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.tokens-btn-generar:hover:not(:disabled) {
  /* Cambio de color simple sin movimiento */
  opacity: 0.9;
}
.tokens-btn-generar:disabled { opacity: 0.6; cursor: not-allowed; }

.tokens-btn-empleado { background-color: #0d6efd; color: white; }
.tokens-btn-cliente { background-color: #198754; color: white; }
.tokens-btn-proveedor { background-color: #fd7e14; color: white; }

/* Filtros de estado */
.tokens-filtros-container { margin-bottom: 1.5rem; }
.tokens-filtros-estado {
  display: inline-flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  background-color: #f8f9fa;
  padding: 0.5rem;
  border-radius: 10px;
}

.tokens-filtro-btn {
  padding: 0.5rem 1rem;
  border: 1px solid transparent;
  border-radius: 6px;
  background-color: transparent;
  color: #6c757d;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.tokens-filtro-btn:hover { background-color: #e9ecef; color: #495057; }
.tokens-filtro-btn.tokens-activo {
  background-color: white;
  color: #0d6efd;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  border-color: #e9ecef;
}

/* Tabla Wrapper General */
.tokens-tabla-wrapper {
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  padding: 0;
  overflow: hidden;
  min-height: 300px;
}

.tokens-tabla-header {
  padding: 1.5rem;
  border-bottom: 1px solid #e9ecef;
  background-color: #fff;
}
.tokens-tabla-header h2 { font-size: 1.25rem; color: #1a1a1a; margin: 0; }

/* --- ACORDEÓN (Usados) - Estático --- */
.tokens-accordion-container {
  display: flex;
  flex-direction: column;
  background-color: #f8f9fa;
}

.tokens-accordion-item {
  border-bottom: 1px solid #e9ecef;
  background-color: white;
}

.tokens-accordion-item.expandido {
  margin: 1rem;
  border: 1px solid #e9ecef;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.tokens-accordion-header {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.2rem 1.5rem;
  background-color: white;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  font-weight: 600;
  color: #495057;
}

.tokens-accordion-header:hover {
  background-color: #f8f9fa;
}

.tokens-accordion-header .header-left {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.icon-box {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
}

.icon-empleado { background-color: #e7f1ff; color: #0d6efd; }
.icon-cliente { background-color: #d1e7dd; color: #198754; }
.icon-proveedor { background-color: #ffecb5; color: #664d03; }

.header-count {
  background-color: #e9ecef;
  padding: 0.2rem 0.6rem;
  border-radius: 20px;
  font-size: 0.8rem;
  color: #6c757d;
}

.tokens-accordion-body {
  display: none; /* Oculto por defecto */
  background-color: #fff;
}

.tokens-accordion-body.abierto {
  display: block; /* Visible al instante */
  border-top: 1px solid #e9ecef;
  overflow-y: auto;
  max-height: 800px;
}

/* Tabla */
.tokens-tabla {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
}
.tokens-tabla thead { background-color: #f8f9fa; }
.tokens-tabla th {
  padding: 1rem 1.5rem;
  text-align: left;
  font-weight: 600;
  color: #6c757d;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.5px;
  border-bottom: 1px solid #dee2e6;
}
.tokens-tabla tbody tr { border-bottom: 1px solid #e9ecef; }
.tokens-tabla tbody tr:last-child { border-bottom: none; }
.tokens-tabla tbody tr:hover { background-color: #f8f9fa; }

/* Fila nueva (Solo color estático) */
.token-fila-nueva { background-color: #f0f9ff !important; }

.tokens-tabla td { padding: 1rem 1.5rem; vertical-align: middle; color: #212529; }

/* Badges y botones */
.tokens-badge-tipo { padding: 0.35rem 0.75rem; border-radius: 50px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; display: inline-flex; align-items: center; gap: 0.4rem; }
.tokens-badge-empleado { background-color: #e7f1ff; color: #0d6efd; }
.tokens-badge-cliente { background-color: #d1e7dd; color: #198754; }
.tokens-badge-proveedor { background-color: #ffecb5; color: #664d03; }
.badge-nuevo { background-color: #dc3545; color: white; font-size: 0.6rem; padding: 2px 6px; border-radius: 4px; margin-left: 8px; font-weight: bold; }

.tokens-badge-estado { padding: 0.35rem 0.75rem; border-radius: 50px; font-size: 0.75rem; font-weight: 600; display: inline-flex; align-items: center; gap: 0.4rem; }
.tokens-estado-activo { background-color: #d1e7dd; color: #0f5132; }
.tokens-estado-usado { background-color: #e2e3e5; color: #41464b; }
.tokens-estado-expirado { background-color: #fff3cd; color: #856404; }

.token-info-usuario { display: flex; flex-direction: column; }
.token-usuario-nombre { font-weight: 500; }
.token-fechas { display: flex; flex-direction: column; gap: 0.25rem; font-size: 0.8rem; color: #6c757d; }
.token-fechas span { display: flex; align-items: center; gap: 0.4rem; }

.tokens-celda-link { max-width: 250px; }
.tokens-link-code { display: block; background-color: #f1f3f5; padding: 0.5rem 0.75rem; border-radius: 6px; font-size: 0.8rem; font-family: monospace; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: #495057; border: 1px solid #dee2e6; }

.tokens-acciones { display: flex; gap: 0.5rem; }
.tokens-btn-copiar, .tokens-btn-eliminar { border: none; border-radius: 6px; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; gap: 0.4rem; font-size: 0.85rem; height: 36px; }
.tokens-btn-copiar { padding: 0 1rem; background-color: #fff; border: 1px solid #ced4da; color: #495057; font-weight: 500; }
.tokens-btn-copiar:hover:not(:disabled) { background-color: #e9ecef; }
.tokens-btn-copiar.copiado { background-color: #198754; color: white; border-color: #198754; }
.tokens-btn-eliminar { width: 36px; background-color: #fff; border: 1px solid #f5c2c7; color: #dc3545; }
.tokens-btn-eliminar:hover { background-color: #dc3545; color: white; border-color: #dc3545; }

.tokens-loader { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 4rem; color: #6c757d; gap: 1rem; }
/* Spinner simple rotatorio - es necesario para indicar carga */
.spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #0d6efd; border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

.tokens-mensaje-vacio { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 4rem; color: #6c757d; font-size: 1.1rem; }

@media (max-width: 992px) { .tokens-tabla th, .tokens-tabla td { padding: 0.75rem 1rem; } }
@media (max-width: 768px) {
  .tokens-container { padding: 1rem; }
  .tokens-botones-generar { flex-direction: column; }
  .tokens-btn-generar { width: 100%; justify-content: center; }
  .tokens-filtros-estado { flex-direction: column; width: 100%; }
  .tokens-filtro-btn { width: 100%; justify-content: center; }
  .tokens-tabla-wrapper { overflow-x: auto; }
  .tokens-tabla { min-width: 800px; }
}